{"ast":null,"code":"import _defineProperty from \"/Users/usuario/everymundo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { SET_LOCATION_INPUT, RECEIVE_LOCATIONS, SET_DEFAULT_DATES, SET_FOCUSED_INPUT, RECEIVE_PASSENGERS, SET_PASSENGER_VALUE, INCREMENT_PASSENGER, DECREMENT_PASSENGER, TOGGLE_INPUT, LOADING } from \"./actions\";\nimport locations from \"../../data/locations\";\nimport passenger from \"../../data/typePassenger\";\nimport moment from \"moment\";\nexport var setLocationInput = function setLocationInput(input, value) {\n  return {\n    type: SET_LOCATION_INPUT,\n    input: input,\n    value: value\n  };\n};\nexport var receiveLocations = function receiveLocations(locations) {\n  return {\n    type: RECEIVE_LOCATIONS,\n    locations: locations\n  };\n};\nexport var setDefaultDates = function setDefaultDates(outBoundFlight, returnFlight) {\n  return {\n    type: SET_DEFAULT_DATES,\n    outBoundFlight: outBoundFlight,\n    returnFlight: returnFlight\n  };\n};\nexport var setFocusedInput = function setFocusedInput(focusedInput) {\n  return {\n    type: SET_FOCUSED_INPUT,\n    focusedInput: focusedInput\n  };\n};\nexport var receivedPassenger = function receivedPassenger(passengers) {\n  return {\n    type: RECEIVE_PASSENGERS,\n    passengers: passengers\n  };\n};\nexport var setPassengerTypeValue = function setPassengerTypeValue(passenger) {\n  return {\n    type: SET_PASSENGER_VALUE,\n    passenger: passenger\n  };\n};\nexport var loading = function loading(status) {\n  return {\n    type: LOADING,\n    status: status\n  };\n};\nexport var fetchLocations = function fetchLocations() {\n  return function (dispatch) {\n    dispatch(receiveLocations(locations));\n    dispatch(setLocationInput(\"from\", locations[0]));\n  };\n};\nexport var setDates = function setDates() {\n  return function (dispatch) {\n    var outBoundFlight = moment().add(1, \"day\");\n    var returnFlight = moment().add(8, \"days\");\n    dispatch(setDefaultDates(outBoundFlight, returnFlight));\n  };\n};\nexport var incrementPassenger = function incrementPassenger(key) {\n  return {\n    type: INCREMENT_PASSENGER,\n    key: key\n  };\n};\nexport var decrementPassenger = function decrementPassenger(key) {\n  return {\n    type: DECREMENT_PASSENGER,\n    key: key\n  };\n};\nexport var toggleInput = function toggleInput() {\n  return {\n    type: TOGGLE_INPUT\n  };\n};\nexport var fetchTypePassenger = function fetchTypePassenger() {\n  return function (dispatch) {\n    dispatch(receivedPassenger(passenger));\n    passenger.map(function (item) {\n      return _defineProperty({}, item.key, item.value);\n    }).map(function (item) {\n      return dispatch(setPassengerTypeValue(item));\n    });\n  };\n};\nexport var buildUrl = function buildUrl(_ref2) {\n  var from = _ref2.from,\n      to = _ref2.to,\n      adult = _ref2.adult,\n      infant = _ref2.infant,\n      child = _ref2.child,\n      outBoundFlight = _ref2.outBoundFlight,\n      returnFlight = _ref2.returnFlight;\n  return function (dispatch) {\n    dispatch(loading(true));\n\n    var format = function format(date) {\n      return moment(date).format(\"YYYY-MM-DD\");\n    };\n\n    var url = \"https://www.swiss.com/us/en/Book/\";\n    url += \"Outbound/\".concat(from[\"name\"], \"-\").concat(to[\"name\"]);\n\n    if (!returnFlight) {\n      url += \"/from-\".concat(format(outBoundFlight), \"/\");\n    } else {\n      var _from = format(outBoundFlight);\n\n      var _to = format(returnFlight);\n\n      url += \"/from-\".concat(_from, \"/to-\").concat(_to, \"/\");\n    }\n\n    url += \"adults-\".concat(adult, \"/children-\").concat(child, \"/infants-\").concat(infant, \"/\");\n    url += \"class-economy/al-LX/sidmbvl\";\n    setTimeout(function () {\n      dispatch(loading(false));\n      window.location.href = url;\n    }, 2000);\n  };\n};\nexport var calculateTotal = function calculateTotal() {\n  return function (dispatch, getState) {\n    var passengers = getState().booking.passengers;\n    var adult = passengers.adult,\n        child = passengers.child,\n        infant = passengers.infant;\n    var total = Object.values({\n      adult: adult,\n      child: child,\n      infant: infant\n    }).reduce(function (prev, next) {\n      prev = prev + next;\n      return prev;\n    }, 0);\n    dispatch(setPassengerTypeValue({\n      total: total\n    }));\n  };\n};","map":{"version":3,"sources":["/Users/usuario/everymundo/src/actions/booking/index.js"],"names":["SET_LOCATION_INPUT","RECEIVE_LOCATIONS","SET_DEFAULT_DATES","SET_FOCUSED_INPUT","RECEIVE_PASSENGERS","SET_PASSENGER_VALUE","INCREMENT_PASSENGER","DECREMENT_PASSENGER","TOGGLE_INPUT","LOADING","locations","passenger","moment","setLocationInput","input","value","type","receiveLocations","setDefaultDates","outBoundFlight","returnFlight","setFocusedInput","focusedInput","receivedPassenger","passengers","setPassengerTypeValue","loading","status","fetchLocations","dispatch","setDates","add","incrementPassenger","key","decrementPassenger","toggleInput","fetchTypePassenger","map","item","buildUrl","from","to","adult","infant","child","format","date","url","setTimeout","window","location","href","calculateTotal","getState","booking","total","Object","values","reduce","prev","next"],"mappings":";AAAA,SACEA,kBADF,EAEEC,iBAFF,EAGEC,iBAHF,EAIEC,iBAJF,EAKEC,kBALF,EAMEC,mBANF,EAOEC,mBAPF,EAQEC,mBARF,EASEC,YATF,EAUEC,OAVF,QAWO,WAXP;AAaA,OAAOC,SAAP,MAAsB,sBAAtB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AAEA,OAAO,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,KAAD,EAAQC,KAAR;AAAA,SAAmB;AACjDC,IAAAA,IAAI,EAAEhB,kBAD2C;AAEjDc,IAAAA,KAAK,EAALA,KAFiD;AAGjDC,IAAAA,KAAK,EAALA;AAHiD,GAAnB;AAAA,CAAzB;AAMP,OAAO,IAAME,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAAP,SAAS;AAAA,SAAK;AAC5CM,IAAAA,IAAI,EAAEf,iBADsC;AAE5CS,IAAAA,SAAS,EAATA;AAF4C,GAAL;AAAA,CAAlC;AAKP,OAAO,IAAMQ,eAAe,GAAG,SAAlBA,eAAkB,CAACC,cAAD,EAAiBC,YAAjB;AAAA,SAAmC;AAChEJ,IAAAA,IAAI,EAAEd,iBAD0D;AAEhEiB,IAAAA,cAAc,EAAdA,cAFgE;AAGhEC,IAAAA,YAAY,EAAZA;AAHgE,GAAnC;AAAA,CAAxB;AAMP,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,YAAY;AAAA,SAAK;AAC9CN,IAAAA,IAAI,EAAEb,iBADwC;AAE9CmB,IAAAA,YAAY,EAAZA;AAF8C,GAAL;AAAA,CAApC;AAKP,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAAAC,UAAU;AAAA,SAAK;AAC9CR,IAAAA,IAAI,EAAEZ,kBADwC;AAE9CoB,IAAAA,UAAU,EAAVA;AAF8C,GAAL;AAAA,CAApC;AAKP,OAAO,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,CAAAd,SAAS;AAAA,SAAK;AACjDK,IAAAA,IAAI,EAAEX,mBAD2C;AAEjDM,IAAAA,SAAS,EAATA;AAFiD,GAAL;AAAA,CAAvC;AAKP,OAAO,IAAMe,OAAO,GAAG,SAAVA,OAAU,CAAAC,MAAM;AAAA,SAAK;AAChCX,IAAAA,IAAI,EAAEP,OAD0B;AAEhCkB,IAAAA,MAAM,EAANA;AAFgC,GAAL;AAAA,CAAtB;AAKP,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB;AAAA,SAAM,UAAAC,QAAQ,EAAI;AAC9CA,IAAAA,QAAQ,CAACZ,gBAAgB,CAACP,SAAD,CAAjB,CAAR;AACAmB,IAAAA,QAAQ,CAAChB,gBAAgB,CAAC,MAAD,EAASH,SAAS,CAAC,CAAD,CAAlB,CAAjB,CAAR;AACD,GAH6B;AAAA,CAAvB;AAKP,OAAO,IAAMoB,QAAQ,GAAG,SAAXA,QAAW;AAAA,SAAM,UAAAD,QAAQ,EAAI;AACxC,QAAMV,cAAc,GAAGP,MAAM,GAAGmB,GAAT,CAAa,CAAb,EAAgB,KAAhB,CAAvB;AACA,QAAMX,YAAY,GAAGR,MAAM,GAAGmB,GAAT,CAAa,CAAb,EAAgB,MAAhB,CAArB;AACAF,IAAAA,QAAQ,CAACX,eAAe,CAACC,cAAD,EAAiBC,YAAjB,CAAhB,CAAR;AACD,GAJuB;AAAA,CAAjB;AAMP,OAAO,IAAMY,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,GAAG;AAAA,SAAK;AACxCjB,IAAAA,IAAI,EAAEV,mBADkC;AAExC2B,IAAAA,GAAG,EAAHA;AAFwC,GAAL;AAAA,CAA9B;AAKP,OAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAD,GAAG;AAAA,SAAK;AACxCjB,IAAAA,IAAI,EAAET,mBADkC;AAExC0B,IAAAA,GAAG,EAAHA;AAFwC,GAAL;AAAA,CAA9B;AAKP,OAAO,IAAME,WAAW,GAAG,SAAdA,WAAc;AAAA,SAAO;AAChCnB,IAAAA,IAAI,EAAER;AAD0B,GAAP;AAAA,CAApB;AAIP,OAAO,IAAM4B,kBAAkB,GAAG,SAArBA,kBAAqB;AAAA,SAAM,UAAAP,QAAQ,EAAI;AAClDA,IAAAA,QAAQ,CAACN,iBAAiB,CAACZ,SAAD,CAAlB,CAAR;AAEAA,IAAAA,SAAS,CACN0B,GADH,CACO,UAAAC,IAAI;AAAA,iCAAQA,IAAI,CAACL,GAAb,EAAmBK,IAAI,CAACvB,KAAxB;AAAA,KADX,EAEGsB,GAFH,CAEO,UAAAC,IAAI;AAAA,aAAIT,QAAQ,CAACJ,qBAAqB,CAACa,IAAD,CAAtB,CAAZ;AAAA,KAFX;AAGD,GANiC;AAAA,CAA3B;AAQP,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW;AAAA,MACtBC,IADsB,SACtBA,IADsB;AAAA,MAEtBC,EAFsB,SAEtBA,EAFsB;AAAA,MAGtBC,KAHsB,SAGtBA,KAHsB;AAAA,MAItBC,MAJsB,SAItBA,MAJsB;AAAA,MAKtBC,KALsB,SAKtBA,KALsB;AAAA,MAMtBzB,cANsB,SAMtBA,cANsB;AAAA,MAOtBC,YAPsB,SAOtBA,YAPsB;AAAA,SAQlB,UAAAS,QAAQ,EAAI;AAChBA,IAAAA,QAAQ,CAACH,OAAO,CAAC,IAAD,CAAR,CAAR;;AAEA,QAAMmB,MAAM,GAAG,SAATA,MAAS,CAAAC,IAAI;AAAA,aAAIlC,MAAM,CAACkC,IAAD,CAAN,CAAaD,MAAb,CAAoB,YAApB,CAAJ;AAAA,KAAnB;;AAEA,QAAIE,GAAG,sCAAP;AACAA,IAAAA,GAAG,uBAAgBP,IAAI,CAAC,MAAD,CAApB,cAAgCC,EAAE,CAAC,MAAD,CAAlC,CAAH;;AACA,QAAI,CAACrB,YAAL,EAAmB;AACjB2B,MAAAA,GAAG,oBAAaF,MAAM,CAAC1B,cAAD,CAAnB,MAAH;AACD,KAFD,MAEO;AACL,UAAMqB,KAAI,GAAGK,MAAM,CAAC1B,cAAD,CAAnB;;AACA,UAAMsB,GAAE,GAAGI,MAAM,CAACzB,YAAD,CAAjB;;AACA2B,MAAAA,GAAG,oBAAaP,KAAb,iBAAwBC,GAAxB,MAAH;AACD;;AAEDM,IAAAA,GAAG,qBAAcL,KAAd,uBAAgCE,KAAhC,sBAAiDD,MAAjD,MAAH;AACAI,IAAAA,GAAG,iCAAH;AAEAC,IAAAA,UAAU,CAAC,YAAM;AACfnB,MAAAA,QAAQ,CAACH,OAAO,CAAC,KAAD,CAAR,CAAR;AACAuB,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBJ,GAAvB;AACD,KAHS,EAGP,IAHO,CAAV;AAID,GA9BuB;AAAA,CAAjB;AAgCP,OAAO,IAAMK,cAAc,GAAG,SAAjBA,cAAiB;AAAA,SAAM,UAACvB,QAAD,EAAWwB,QAAX,EAAwB;AAAA,QAClD7B,UADkD,GACnC6B,QAAQ,GAAGC,OADwB,CAClD9B,UADkD;AAAA,QAElDkB,KAFkD,GAEzBlB,UAFyB,CAElDkB,KAFkD;AAAA,QAE3CE,KAF2C,GAEzBpB,UAFyB,CAE3CoB,KAF2C;AAAA,QAEpCD,MAFoC,GAEzBnB,UAFyB,CAEpCmB,MAFoC;AAG1D,QAAMY,KAAK,GAAGC,MAAM,CAACC,MAAP,CAAc;AAAEf,MAAAA,KAAK,EAALA,KAAF;AAASE,MAAAA,KAAK,EAALA,KAAT;AAAgBD,MAAAA,MAAM,EAANA;AAAhB,KAAd,EAAwCe,MAAxC,CAA+C,UAACC,IAAD,EAAOC,IAAP,EAAgB;AAC3ED,MAAAA,IAAI,GAAGA,IAAI,GAAGC,IAAd;AACA,aAAOD,IAAP;AACD,KAHa,EAGX,CAHW,CAAd;AAKA9B,IAAAA,QAAQ,CAACJ,qBAAqB,CAAC;AAAE8B,MAAAA,KAAK,EAALA;AAAF,KAAD,CAAtB,CAAR;AACD,GAT6B;AAAA,CAAvB","sourcesContent":["import {\n  SET_LOCATION_INPUT,\n  RECEIVE_LOCATIONS,\n  SET_DEFAULT_DATES,\n  SET_FOCUSED_INPUT,\n  RECEIVE_PASSENGERS,\n  SET_PASSENGER_VALUE,\n  INCREMENT_PASSENGER,\n  DECREMENT_PASSENGER,\n  TOGGLE_INPUT,\n  LOADING\n} from \"./actions\";\n\nimport locations from \"../../data/locations\";\nimport passenger from \"../../data/typePassenger\";\nimport moment from \"moment\";\n\nexport const setLocationInput = (input, value) => ({\n  type: SET_LOCATION_INPUT,\n  input,\n  value\n});\n\nexport const receiveLocations = locations => ({\n  type: RECEIVE_LOCATIONS,\n  locations\n});\n\nexport const setDefaultDates = (outBoundFlight, returnFlight) => ({\n  type: SET_DEFAULT_DATES,\n  outBoundFlight,\n  returnFlight\n});\n\nexport const setFocusedInput = focusedInput => ({\n  type: SET_FOCUSED_INPUT,\n  focusedInput\n});\n\nexport const receivedPassenger = passengers => ({\n  type: RECEIVE_PASSENGERS,\n  passengers\n});\n\nexport const setPassengerTypeValue = passenger => ({\n  type: SET_PASSENGER_VALUE,\n  passenger\n});\n\nexport const loading = status => ({\n  type: LOADING,\n  status\n});\n\nexport const fetchLocations = () => dispatch => {\n  dispatch(receiveLocations(locations));\n  dispatch(setLocationInput(\"from\", locations[0]));\n};\n\nexport const setDates = () => dispatch => {\n  const outBoundFlight = moment().add(1, \"day\");\n  const returnFlight = moment().add(8, \"days\");\n  dispatch(setDefaultDates(outBoundFlight, returnFlight));\n};\n\nexport const incrementPassenger = key => ({\n  type: INCREMENT_PASSENGER,\n  key\n});\n\nexport const decrementPassenger = key => ({\n  type: DECREMENT_PASSENGER,\n  key\n});\n\nexport const toggleInput = () => ({\n  type: TOGGLE_INPUT\n});\n\nexport const fetchTypePassenger = () => dispatch => {\n  dispatch(receivedPassenger(passenger));\n\n  passenger\n    .map(item => ({ [item.key]: item.value }))\n    .map(item => dispatch(setPassengerTypeValue(item)));\n};\n\nexport const buildUrl = ({\n  from,\n  to,\n  adult,\n  infant,\n  child,\n  outBoundFlight,\n  returnFlight\n}) => dispatch => {\n  dispatch(loading(true));\n\n  const format = date => moment(date).format(\"YYYY-MM-DD\");\n\n  let url = `https://www.swiss.com/us/en/Book/`;\n  url += `Outbound/${from[\"name\"]}-${to[\"name\"]}`;\n  if (!returnFlight) {\n    url += `/from-${format(outBoundFlight)}/`;\n  } else {\n    const from = format(outBoundFlight);\n    const to = format(returnFlight);\n    url += `/from-${from}/to-${to}/`;\n  }\n\n  url += `adults-${adult}/children-${child}/infants-${infant}/`;\n  url += `class-economy/al-LX/sidmbvl`;\n\n  setTimeout(() => {\n    dispatch(loading(false));\n    window.location.href = url;\n  }, 2000);\n};\n\nexport const calculateTotal = () => (dispatch, getState) => {\n  const { passengers } = getState().booking;\n  const { adult, child, infant } = passengers;\n  const total = Object.values({ adult, child, infant }).reduce((prev, next) => {\n    prev = prev + next;\n    return prev;\n  }, 0);\n\n  dispatch(setPassengerTypeValue({ total }));\n};\n"]},"metadata":{},"sourceType":"module"}